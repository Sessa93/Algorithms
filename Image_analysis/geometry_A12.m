%% A1
clc;
clear all;
close all;

im1 = imread('Image1.jpg');
im2 = imread('Image2.jpg');

x1 = [400.354809437387,2224.87749546279,412.202359346642,1182.29310344828];
y1 = [87.1352087114342,175.991833030854,1816.87749546280,1639.16424682396];

x2 = [595.839382940109,2147.86842105263,862.409255898366,1502.17695099819];
y2 = [709.131578947369,495.875680580763,2172.30399274047,1887.96279491833];

ptIn = [x2;y2];
ptOut = [x1;y1];

[H,~] = findHomography(ptIn,ptOut);

tform = maketform('projective',H');
projImg2 = imtransform(im2,tform);
figure();
%imshow(projImg2);
%figure()
%imshow(projImg2);

x1C = [1125.50000000000,1293.50000000000,2343.50000000000,2577.50000000000];
y1C = [1389.50000000000,1611.50000000000,639.500000000001,1041.50000000000];

x2C = [1245.51320754717,1071.95094339623,2387.01886792453,2099.97358490566];
y2C = [1265.50188679245,1452.41509433962,2393.65660377358,2547.19245283019];

[H2,pts] = findHomography([x1C;y1C],[x2C;y2C])






